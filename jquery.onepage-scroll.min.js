!function(a){var b={sectionContainer:"section",easing:"ease",animationTime:750,pagination:!0,updateURL:!1,loop:!1,direction:"vertical",touchTarget:null,onLoad:null,beforeMove:null,afterMove:null,keyboard:!0},c=function(c,d){function s(a,b){deltaOfInterest=b;var d=(new Date).getTime();return d-l<m+e.animationTime?(a.preventDefault(),void 0):(0>deltaOfInterest?p(c):q(c),l=d,void 0)}var e=a.extend({},b,d),f=a(e.sectionContainer),g=f.length,i=0,j=0,l=0,m=250,n="",o=function(a,b,c,d){a.css({"-webkit-transform":"horizontal"==b.direction?"translate3d("+c+"%, 0, 0)":"translate3d(0, "+c+"%, 0)","-moz-transform":"horizontal"==b.direction?"translate3d("+c+"%, 0, 0)":"translate3d(0, "+c+"%, 0)","-ms-transform":"horizontal"==b.direction?"translate3d("+c+"%, 0, 0)":"translate3d(0, "+c+"%, 0)",transform:"horizontal"==b.direction?"translate3d("+c+"%, 0, 0)":"translate3d(0, "+c+"%, 0)","-webkit-transition":"all "+b.animationTime+"ms "+b.easing,"-moz-transition":"all "+b.animationTime+"ms "+b.easing,"-ms-transition":"all "+b.animationTime+"ms "+b.easing,transition:"all "+b.animationTime+"ms "+b.easing}),a.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){"function"==typeof b.afterMove&&b.afterMove(d)})},p=function(b,c){if(c=void 0!=c?c:1,index=a(e.sectionContainer+".active").data("index"),current=a(e.sectionContainer+"[data-index='"+index+"']"),next=a(e.sectionContainer+"[data-index='"+(index+c)+"']"),next.length<1){if(1!=e.loop)return;pos=0,next=a(e.sectionContainer+"[data-index='1']")}else pos=-1*100*(next.data("index")-1);if("function"==typeof e.beforeMove&&e.beforeMove(current.data("index")),current.removeClass("active"),next.addClass("active"),1==e.pagination&&(a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==e.updateURL){var d=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index+c);history.pushState({},document.title,d)}o(b,e,pos,index)},q=function(b,c){if(c=void 0!=c?c:1,index=a(e.sectionContainer+".active").data("index"),current=a(e.sectionContainer+"[data-index='"+index+"']"),next=a(e.sectionContainer+"[data-index='"+(index-c)+"']"),next.length<1){if(1!=e.loop)return;pos=-1*100*(g-1),next=a(e.sectionContainer+"[data-index='"+g+"']")}else pos=-1*100*(next.data("index")-1);if("function"==typeof e.beforeMove&&e.beforeMove(current.data("index")),current.removeClass("active"),next.addClass("active"),1==e.pagination&&(a(".onepage-pagination li a[data-index='"+index+"']").removeClass("active"),a(".onepage-pagination li a[data-index='"+next.data("index")+"']").addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==e.updateURL){var d=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(index-c);history.pushState({},document.title,d)}o(b,e,pos,index)},r=function(b,c){index=a(e.sectionContainer+".active").data("index"),current=a(e.sectionContainer+"[data-index='"+index+"']"),next=a(e.sectionContainer+"[data-index='"+c+"']"),next&&(current.removeClass("active"),next.addClass("active")),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),pos=-1*100*(next.data("index")-1),o(b,e,pos)};if(c.addClass("onepage-wrapper").css("position","relative"),a.each(f,function(b){a(this).css({position:"absolute",left:"horizontal"==e.direction?j+"%":0,top:"vertical"==e.direction||"horizontal"!=e.direction?i+"%":0}).addClass("section").attr("data-index",b+1),"horizontal"==e.direction?j+=100:i+=100,1==e.pagination&&(n+="<li><a data-index='"+(b+1)+"' href='#"+(b+1)+"'></a></li>")}),"horizontal"==e.direction?(null!=e.touchTarget&&a(e.touchTarget).swipeEvents().bind("swipeRight",function(){q(c)}).bind("swipeLeft",function(){p(c)}),c.swipeEvents().bind("swipeRight",function(){q(c)}).bind("swipeLeft",function(){p(c)})):(null!=e.touchTarget&&a(e.touchTarget).swipeEvents().bind("swipeDown",function(){q(c)}).bind("swipeUp",function(){p(c)}),c.swipeEvents().bind("swipeDown",function(){q(c)}).bind("swipeUp",function(){p(c)})),1==e.pagination&&(a("<ul class='onepage-pagination'>"+n+"</ul>").prependTo("body"),"horizontal"==e.direction?(posLeft=-1*(c.find(".onepage-pagination").width()/2),c.find(".onepage-pagination").css("margin-left",posLeft)):(posTop=-1*(c.find(".onepage-pagination").height()/2),c.find(".onepage-pagination").css("margin-top",posTop))),""!=window.location.hash&&"#1"!=window.location.hash){if(init_index=window.location.hash.replace("#",""),a(e.sectionContainer+"[data-index='"+init_index+"']").addClass("active"),a("body").addClass("viewing-page-"+init_index),1==e.pagination&&a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),"function"==typeof e.onPageJump&&e.onPageJump(0,init_index),next=a(e.sectionContainer+"[data-index='"+init_index+"']"),next&&(next.addClass("active"),1==e.pagination&&a(".onepage-pagination li a[data-index='"+init_index+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index")),history.replaceState&&1==e.updateURL)){var t=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+init_index;history.pushState({},document.title,t)}pos=-1*100*(init_index-1),o(c,e,pos,init_index)}else a(e.sectionContainer+"[data-index='1']").addClass("active"),a("body").addClass("viewing-page-1"),1==e.pagination&&a(".onepage-pagination li a[data-index='1']").addClass("active");return 1==e.pagination&&a(".onepage-pagination li a").click(function(){var b=a(this).data("index");return a(this).hasClass("active")||(current=a(e.sectionContainer+".active"),next=a(e.sectionContainer+"[data-index='"+b+"']"),"function"==typeof e.onPageJump&&e.onPageJump(current,b),next&&(current.removeClass("active"),next.addClass("active"),a(".onepage-pagination li a.active").removeClass("active"),a(".onepage-pagination li a[data-index='"+b+"']").addClass("active"),a("body")[0].className=a("body")[0].className.replace(/\bviewing-page-\d.*?\b/g,""),a("body").addClass("viewing-page-"+next.data("index"))),pos=-1*100*(b-1),o(c,e,pos,b)),0==e.updateURL?!1:void 0}),a(document).bind("mousewheel DOMMouseScroll",function(a){a.preventDefault();var b=a.originalEvent.wheelDelta||-a.originalEvent.detail;s(a,b)}),1==e.keyboard&&a(document).keydown(function(a){var b=a.target.tagName.toLowerCase();switch(a.which){case 38:"input"!=b&&"textarea"!=b&&q(c);break;case 40:"input"!=b&&"textarea"!=b&&p(c);break;default:return}a.preventDefault()}),"function"==typeof e.onLoad&&e.onLoad(a(e.sectionContainer+".active").data("index")),{moveDown:p,moveUp:q,moveTo:r}};a.fn.onepage_scroll=function(b){return this.each(function(){var d=new c(a(this),b);a.fn.moveDown=function(b){d.moveDown(a(this),b)},a.fn.moveUp=function(b){d.moveUp(a(this),b)},a.fn.moveTo=function(b){d.moveTo(a(this),b)}})},a.fn.swipeEvents=function(){return this.each(function(){function e(a){var e=a.originalEvent.touches;e&&e.length&&(b=e[0].pageX,c=e[0].pageY,d.bind("touchmove",f))}function f(a){var e=a.originalEvent.touches;if(e&&e.length){var g=b-e[0].pageX,h=c-e[0].pageY;g>=50&&d.trigger("swipeLeft"),-50>=g&&d.trigger("swipeRight"),h>=50&&d.trigger("swipeUp"),-50>=h&&d.trigger("swipeDown"),(Math.abs(g)>=50||Math.abs(h)>=50)&&d.unbind("touchmove",f)}}var b,c,d=a(this);d.bind("touchstart",e)})}}(window.jQuery);